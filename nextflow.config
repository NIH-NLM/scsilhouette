// Enable monitoring and logging
timeline.enabled            = true
trace.enabled               = true
dag.enabled                 = true

// Define pipeline parameters
params {
    datasets_csv         = "datasets.csv"
    metric               = "euclidean"
    outdir               = "results"
    save_annotation      = true
    save_cluster_summary = true
    save_scores          = true

}


// Enable Wave containers for efficiency
wave.enabled = true

// Define execution profiles
profiles {
    local {
        docker.enabled   = 'true'
        process.executor = 'local'
    }

    slurm {
        includeConfig 'conf/slurm.config'
    }

    nfcopilot {
        includeConfig 'conf/nfcopilot.config'
    }
    
    aws {
        includeConfig 'conf/aws.config'
    }
    
}

// define containers for processes

process {
    withName: compute_silhouette {
        container = 'ghcr.io/nih-nlm/scsilhouette:main'
    }
}